webpackJsonp([1],{Kktm:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("/ocq"),r=a("7+uW"),o=a("woOf"),s=a.n(o),i=a("Xori"),d=a.n(i);const l=function(t){return"[object Array]"===Object.prototype.toString.call(t)};function c(t,e){const a=t.$props.tag;if(a){if("string"==typeof a){const t={value:a};return e&&(t.props={class:e}),t}if("object"==typeof a){const t={value:a.value||"div",props:a.props||{}};return e&&(t.props.class?l(t.props.class)?t.props.class.push(e):t.props.class=[e,t.props.class]:t.props.class=e),t}}return{value:"div"}}function u(t){return!t||("string"==typeof t||"object"==typeof t&&("string"==typeof t.value||"function"==typeof t.value||"object"==typeof t.value))}d.a.dropHandler=i.dropHandlers.reactDropHandler().handler,d.a.wrapChild=function(t){return t};var p=function(t){var e=s()({},t.$props,t.$listeners),a={};return e.behaviour&&(a.behaviour=e.behaviour),e.groupName&&(a.groupName=e.groupName),e.orientation&&(a.orientation=e.orientation),e.dragHandleSelector&&(a.dragHandleSelector=e.dragHandleSelector),e.nonDragAreaSelector&&(a.nonDragAreaSelector=e.nonDragAreaSelector),void 0!==e.dragBeginDelay&&(a.dragBeginDelay=e.dragBeginDelay),void 0!==e.animationDuration&&(a.animationDuration=e.animationDuration),void 0!==e.autoScrollEnabled&&(a.autoScrollEnabled=e.autoScrollEnabled),e.lockAxis&&(a.lockAxis=e.lockAxis),e.dragClass&&(a.dragClass=e.dragClass),e.dropClass&&(a.dropClass=e.dropClass),e["drag-start"]&&(a.onDragStart=function(e){t.$emit("drag-start",e)}),e["drag-end"]&&(a.onDragEnd=function(e){t.$emit("drag-end",e)}),e.drop&&(a.onDrop=function(e){t.$emit("drop",e)}),e.getChildPayload&&(a.getChildPayload=e.getChildPayload),e.shouldAnimateDrop&&(a.shouldAnimateDrop=e.shouldAnimateDrop),e.shouldAcceptDrop&&(a.shouldAcceptDrop=e.shouldAcceptDrop),e["drag-enter"]&&(a.onDragEnter=function(){t.$emit("drag-enter")}),e["drag-leave"]&&(a.onDragLeave=function(){t.$emit("drag-leave")}),a},v={name:"Container",mounted:function(){this.containerElement=this.$refs.container||this.$el,this.container=d()(this.containerElement,p(this))},updated:function(){this.$refs.container!==this.containerElement&&this.$el!==this.containerElement&&(this.container&&this.container.dispose(),this.containerElement=this.$refs.container||this.$el,this.container=d()(this.containerElement,p(this)))},destroyed:function(){this.container&&this.container.dispose()},props:{behaviour:String,groupName:String,orientation:String,dragHandleSelector:String,nonDragAreaSelector:String,dragBeginDelay:Number,animationDuration:Number,autoScrollEnabled:{type:Boolean,default:!0},lockAxis:String,dragClass:String,dropClass:String,"drag-start":Function,"drag-end":Function,drop:Function,getChildPayload:Function,shouldAnimateDrop:Function,shouldAcceptDrop:Function,"drag-enter":Function,"drag-leave":Function,tag:{validator:u,default:"div"}},render:function(t){var e=c(this);return t(e.value,s()({},{ref:"container"},e.props),this.$slots.default)}},h=a("VU/8")(v,null,!1,null,null,null).exports,m={name:"Draggable",props:{tag:{validator:u,default:"div"}},render:function(t){return function(t,e){var a=c(e,i.constants.wrapperClass);return t(a.value,s()({},a.props),e.$slots.default)}(t,this)}},g=a("VU/8")(m,null,!1,null,null,null).exports,C=a("mvHQ"),f=a.n(C),_=a("Gu7T"),y=a.n(_),b="http://localhost:8000/",A=b+"api/";var E=function(t){var e=new FormData;return e.append("username",t.username),e.append("password",t.password),e.append("csrfmiddlewaretoken",function(t){var e=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var r=a[n].trim();if(r.substring(0,t.length+1)===t+"="){e=decodeURIComponent(r.substring(t.length+1));break}}return e}("csrftoken")),fetch(b+"auth-token/",{method:"POST",credentials:"same-origin",body:e}).then(function(t){return t.json()})},k={name:"KanbanBoard",components:{Container:h,Draggable:g},mounted:function(){var t=this,e=fetch(A+"cards/",{method:"GET",credentials:"same-origin",headers:{Authorization:"Token "+localStorage.getItem("token")}}).then(function(t){return t.json()});console.log(e),e.then(function(e){e.RED&&(t.RED=e.RED,t.BLUE=e.BLUE,t.YELLOW=e.YELLOW,t.GREEN=e.GREEN)})},data:function(){return{RED:[],BLUE:[],YELLOW:[],GREEN:[],newCardHeader:"",addACardStyle:[{display:"none"},{display:"none"},{display:"none"},{display:"none"}],addAnotherCardStyle:[{display:"block"},{display:"block"},{display:"block"},{display:"block"}]}},methods:{onDrop:function(t,e){(this.hideAddACardTextarea(),this[t]=function(t,e){var a=e.removedIndex,n=e.addedIndex,r=e.payload;if(null===a&&null===n)return t;var o=[].concat(y()(t)),s=r;return null!==a&&(s=o.splice(a,1)[0]),null!==n&&o.splice(n,0,s),o}(this[t],e),null!=e.addedIndex)&&function(t,e,a){fetch(A+"cards/"+t.id+"/change_desk/?type="+e+"&order="+a,{method:"PUT",credentials:"same-origin",headers:{Authorization:"Token "+localStorage.getItem("token"),"Content-Type":"application/json;charset=utf-8"}}).then(function(t){return t.json()})}(e.payload,t,e.addedIndex);console.log(e)},getChildPayload0:function(t){return this.RED[t]},getChildPayload1:function(t){return this.BLUE[t]},getChildPayload2:function(t){return this.YELLOW[t]},getChildPayload3:function(t){return this.GREEN[t]},addItem:function(t){var e=this;this.newCardHeader&&(function(t,e){return fetch(A+"cards/",{method:"POST",credentials:"same-origin",headers:{Authorization:"Token "+localStorage.getItem("token"),"Content-Type":"application/json;charset=utf-8"},body:f()({text:t,type:e})}).then(function(t){return t.json()})}(this.newCardHeader,t).then(function(a){return e[t].push(a)}),this.hideAddACardTextarea())},deleteItem:function(t,e){var a=this[t].map(function(t){return t.id}).indexOf(e.id);this[t].splice(a,1),function(t){fetch(A+"cards/"+t,{method:"DELETE",credentials:"same-origin",headers:{Authorization:"Token "+localStorage.getItem("token"),"Content-Type":"application/json;charset=utf-8"}})}(e.id)},hideAddACardTextarea:function(){this.newCardHeader="";for(var t=0;t<this.addACardStyle.length;t++)this.addACardStyle[t].display="none";for(var e=0;e<this.addAnotherCardStyle.length;e++)this.addAnotherCardStyle[e].display="block"},showAddACardTextarea:function(t){this.hideAddACardTextarea(),this.addAnotherCardStyle[t].display="none",this.addACardStyle[t].display="block";var e="title"+t;setTimeout(function(){document.getElementById(e).focus()},0)}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"kanban-board"},[a("div",{staticClass:"row"},[a("h3",{staticClass:"header orange"},[t._v("On Hold ("+t._s(t.RED.length)+")")]),t._v(" "),a("Container",{attrs:{"group-name":"1","get-child-payload":t.getChildPayload0},on:{drop:function(e){t.onDrop("RED",e)}}},t._l(t.RED,function(e){return a("Draggable",{key:e.id},[a("div",{staticClass:"draggable-item"},[a("div",{staticClass:"delete",on:{click:function(a){t.deleteItem("RED",e)}}}),t._v(" "),a("p",[a("b",{staticClass:"id"},[t._v("id: ")]),t._v(t._s(e.id))]),t._v(" "),a("p",[t._v(t._s(e.text))])])])})),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newCardHeader,expression:"newCardHeader"}],staticClass:"card-title-textarea",style:t.addACardStyle[0],attrs:{id:"title0",rows:"5",placeholder:"Ввести заголовок для этой карточки"},domProps:{value:t.newCardHeader},on:{input:function(e){e.target.composing||(t.newCardHeader=e.target.value)}}}),t._v(" "),a("button",{staticClass:"add-a-card",style:t.addACardStyle[0],on:{click:function(e){t.addItem("RED")}}},[t._v("Добавить карточку")]),t._v(" "),a("button",{staticClass:"cancel",style:t.addACardStyle[0],on:{click:function(e){t.hideAddACardTextarea()}}}),t._v(" "),a("button",{staticClass:"add-another-card",style:t.addAnotherCardStyle[0],on:{click:function(e){t.showAddACardTextarea(0)}}},[t._v("Добавить карточку")])],1),t._v(" "),a("div",{staticClass:"row"},[a("h3",{staticClass:"header blue"},[t._v("In Progress ("+t._s(t.BLUE.length)+")")]),t._v(" "),a("Container",{attrs:{"group-name":"1","get-child-payload":t.getChildPayload1},on:{drop:function(e){t.onDrop("BLUE",e)}}},t._l(t.BLUE,function(e){return a("Draggable",{key:e.id},[a("div",{staticClass:"draggable-item"},[a("div",{staticClass:"delete",on:{click:function(a){t.deleteItem("BLUE",e)}}}),t._v(" "),a("p",[a("b",{staticClass:"id"},[t._v("id: ")]),t._v(t._s(e.id))]),t._v(" "),a("p",[t._v(t._s(e.text))])])])})),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newCardHeader,expression:"newCardHeader"}],staticClass:"card-title-textarea",style:t.addACardStyle[1],attrs:{id:"title1",rows:"5",placeholder:"Ввести заголовок для этой карточки"},domProps:{value:t.newCardHeader},on:{input:function(e){e.target.composing||(t.newCardHeader=e.target.value)}}}),t._v(" "),a("button",{staticClass:"add-a-card",style:t.addACardStyle[1],on:{click:function(e){t.addItem("BLUE")}}},[t._v("Добавить карточку")]),t._v(" "),a("button",{staticClass:"cancel",style:t.addACardStyle[1],on:{click:function(e){t.hideAddACardTextarea()}}}),t._v(" "),a("button",{staticClass:"add-another-card",style:t.addAnotherCardStyle[1],on:{click:function(e){t.showAddACardTextarea(1)}}},[t._v("Добавить карточку")])],1),t._v(" "),a("div",{staticClass:"row"},[a("h3",{staticClass:"header yellow"},[t._v("Needs Review ("+t._s(t.YELLOW.length)+")")]),t._v(" "),a("Container",{attrs:{"group-name":"1","get-child-payload":t.getChildPayload2},on:{drop:function(e){t.onDrop("YELLOW",e)}}},t._l(t.YELLOW,function(e){return a("Draggable",{key:e.id},[a("div",{staticClass:"draggable-item"},[a("div",{staticClass:"delete",on:{click:function(a){t.deleteItem("YELLOW",e)}}}),t._v(" "),a("p",[a("b",{staticClass:"id"},[t._v("id: ")]),t._v(t._s(e.id))]),t._v(" "),a("p",[t._v(t._s(e.text))])])])})),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newCardHeader,expression:"newCardHeader"}],staticClass:"card-title-textarea",style:t.addACardStyle[2],attrs:{id:"title2",rows:"5",placeholder:"Ввести заголовок для этой карточки"},domProps:{value:t.newCardHeader},on:{input:function(e){e.target.composing||(t.newCardHeader=e.target.value)}}}),t._v(" "),a("button",{staticClass:"add-a-card",style:t.addACardStyle[2],on:{click:function(e){t.addItem("YELLOW")}}},[t._v("Добавить карточку")]),t._v(" "),a("button",{staticClass:"cancel",style:t.addACardStyle[2],on:{click:function(e){t.hideAddACardTextarea()}}}),t._v(" "),a("button",{staticClass:"add-another-card",style:t.addAnotherCardStyle[2],on:{click:function(e){t.showAddACardTextarea(2)}}},[t._v("Добавить карточку")])],1),t._v(" "),a("div",{staticClass:"row"},[a("h3",{staticClass:"header green"},[t._v("Approved ("+t._s(t.GREEN.length)+")")]),t._v(" "),a("Container",{attrs:{"group-name":"1","get-child-payload":t.getChildPayload3},on:{drop:function(e){t.onDrop("GREEN",e)}}},t._l(t.GREEN,function(e){return a("Draggable",{key:e.id},[a("div",{staticClass:"draggable-item"},[a("div",{staticClass:"delete",on:{click:function(a){t.deleteItem("GREEN",e)}}}),t._v(" "),a("p",[a("b",{staticClass:"id"},[t._v("id: ")]),t._v(t._s(e.id))]),t._v(" "),a("p",[t._v(t._s(e.text))])])])})),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newCardHeader,expression:"newCardHeader"}],staticClass:"card-title-textarea",style:t.addACardStyle[3],attrs:{id:"title3",rows:"5",placeholder:"Ввести заголовок для этой карточки"},domProps:{value:t.newCardHeader},on:{input:function(e){e.target.composing||(t.newCardHeader=e.target.value)}}}),t._v(" "),a("button",{staticClass:"add-a-card",style:t.addACardStyle[3],on:{click:function(e){t.addItem("GREEN")}}},[t._v("Добавить карточку")]),t._v(" "),a("button",{staticClass:"cancel",style:t.addACardStyle[3],on:{click:function(e){t.hideAddACardTextarea()}}}),t._v(" "),a("button",{staticClass:"add-another-card",style:t.addAnotherCardStyle[3],on:{click:function(e){t.showAddACardTextarea(3)}}},[t._v("Добавить карточку")])],1)])},staticRenderFns:[]},S=a("VU/8")(k,w,!1,null,null,null).exports,x={name:"NavBar",data:function(){return{text:"text",token:localStorage.getItem("token")||null}},methods:{logout:function(){localStorage.removeItem("token"),document.cookie=""}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-root"},[a("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-light"},[a("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[t._v("kanban")]),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item"}),t._v(" "),null!=t.token?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"accounts/logout/"},on:{click:t.logout}},[t._v("Sign Out")])]):t._e(),t._v(" "),null==t.token?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"accounts/signup/"}},[t._v("Sign Up")])]):t._e(),t._v(" "),null==t.token?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/signin"}},[t._v("Sign In")])],1):t._e()])])])])},staticRenderFns:[]},H=a("VU/8")(x,D,!1,null,null,null).exports,L={name:"Signin",data:function(){return{username:"",password:"",username_err:"",password_err:"",form_err:""}},methods:{submit:function(){var t=this;this.form_err="";var e={username:this.username,password:this.password,csrfmiddlewaretoken:"eHppBlCHrEESybVoUmbd7ia0L3Gaf4ahoMjV37GqZFbZUsWbUCBcOhEwtvN6Ivq5"};E(e).then(function(e){console.log("assd"),e.token?(localStorage.setItem("token",e.token),t.$router.push("/")):(t.username_err=String(e.username||""),t.password_err=String(e.password||"")),e.non_field_errors&&(t.form_err="Невозможно войти с предоставленными учетными данными")})}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"form-signup"}},[a("div",{staticClass:"form-signup__container"},[a("h2",{staticClass:"form-header"},[t._v("Sign up")]),t._v(" "),a("form",{staticClass:"form"},[t.form_err?a("p",[t._v(t._s(t.form_err))]):t._e(),t._v(" "),a("div",{staticClass:"input"},[a("p",[t._v("username")]),t._v(" "),t.username_err?a("p",[t._v(t._s(t.username_err))]):t._e(),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"input"},[a("p",[t._v("password")]),t._v(" "),t.password_err?a("p",[t._v(t._s(t.password_err))]):t._e(),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"submit btn",attrs:{type:"submit"},on:{click:t.submit}},[t._v("sign up")])])])])},staticRenderFns:[]};var T=a("VU/8")(L,N,!1,function(t){a("Kktm")},null,null).exports,I={name:"App",components:{KanbanBoard:S,NavBar:H}},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:"app"},[e("NavBar"),this._v(" "),e("KanbanBoard")],1)},staticRenderFns:[]};var B=a("VU/8")(I,R,!1,function(t){a("yFOU")},null,null).exports;r.a.config.productionTip=!1,r.a.use(n.a);var P=[{path:"/",component:B},{path:"/about",component:{template:"<div>sad</div>"}},{path:"/signin",component:T}],U=new n.a({mode:"history",routes:P});new r.a({router:U}).$mount("#app")},yFOU:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e6abe0e159e683e99093.js.map